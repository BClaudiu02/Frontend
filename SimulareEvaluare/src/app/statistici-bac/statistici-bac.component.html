<div class="statistics-container">
  <div class="header" style="display: flex; justify-content: space-between; align-items: center;">
    <button class="back-button" (click)="goBack()">{{ translations[language].back }}</button>
    <button class="lang-switch" (click)="toggleLanguage()" style="margin-left:auto; min-width: 48px; padding: 6px 16px; border-radius: 20px; border: 1px solid #007bff; background: #f8f9fa; color: #007bff; font-weight: bold; cursor: pointer;">
      {{ language === 'ro' ? 'EN' : 'RO' }}
    </button>
  </div>
  <h1 class="title">
    {{ translations[language].title }}{{ currentCountyName ? ' - ' + currentCountyName : '' }}
  </h1>

  <div class="filters-section">
    <app-filters [counties]="counties" [schools]="schools" [rawData]="rawData" (countyChanged)="onCountyChanged($event)"
      (selectionChanged)="onFiltersChanged($event)"></app-filters>
  </div>

  <div class="chart-section">
    <div class="chart-title-wrapper">
      <h3 class="chart-title">{{ translations[language].chartTitle }}</h3>
    </div>
    <div class="chart-container">
      <app-chart [data]="chartData"></app-chart>
    </div>
  </div>

  <div class="summary-section">
    <app-summary [total]="filtered.length" [media]="mediaGenerala"></app-summary>
  </div>
</div>